export const convertToWords = (theInput) => {
  let num = theInput.toString();

  // Split into rupee and paisa
  let [rupeesPart, paisaPart] = num.split(".");

  // ensure paisa is 2 digits (e.g., 5 → 50 paisa)
  paisaPart = paisaPart ? paisaPart.substring(0, 2).padEnd(2, "0") : null;

  var a = [
    "शुन्य",
    "एक ",
    "दुई ",
    "तिन ",
    "चार ",
    "पाँच ",
    "छ ",
    "सात ",
    "आठ ",
    "नौ ",
    "दश ",
    "एघार ",
    "बाह्र ",
    "तेह्र ",
    "चौध ",
    "पन्ध्र ",
    "सोह्र ",
    "सत्र ",
    "अठार ",
    "उन्नाईस ",
    "बिस ",
    "एक्काईस ",
    "बाईस ",
    "तेईस ",
    "चौविस ",
    "पच्चिस ",
    "छब्बिस ",
    "सत्ताईस ",
    "अठ्ठाईस ",
    "उनन्तिस ",
    "तिस ",
    "एकतिस ",
    "बत्तिस ",
    "तेत्तिस ",
    "चौतिस ",
    "पैतिस ",
    "छत्तिस ",
    "सर्तिस ",
    "अठ्तिस ",
    "उनन्चालिस ",
    "चालिस ",
    "एकचालिस ",
    "बयालिस ",
    "त्रिचालिस ",
    "चौवालिस ",
    "पैतालिस ",
    "छयालिस ",
    "सर्चालिस ",
    "अढ्चालिस ",
    "उनन्पपास ",
    "पचास ",
    "एकाउन्न ",
    "बाउन्न ",
    "त्रिपन्न ",
    "चौअन्न ",
    "पच्पन्न ",
    "छपन्न ",
    "सन्ताउन्न ",
    "अन्ठाउन्न ",
    "उनन्साठी ",
    "साठी ",
    "एकसठ्ठी ",
    "बैसठ्ठी ",
    "त्रिसठ्ठी ",
    "चौसठ्ठी ",
    "पैसठ्ठी ",
    "छैसठ्ठी ",
    "सर्सठ्ठी ",
    "अढसठ्ठी ",
    "उनान्सत्तरी ",
    "सत्तरी ",
    "एकत्तर ",
    "बहत्तर ",
    "त्रिहत्तर ",
    "चौरत्तर ",
    "पचत्तर ",
    "छ्यात्तर ",
    "सतहत्तर ",
    "अठत्तर ",
    "उनासी ",
    "असी ",
    "एकासी ",
    "बयासी ",
    "त्रियासी ",
    "चौरासी ",
    "पचासी ",
    "छ्यासी ",
    "सतासी ",
    "अठासी ",
    "उनानब्बे ",
    "नब्बे ",
    "एकानब्बे ",
    "बयानब्बे ",
    "त्रियानब्बे ",
    "चौरानब्बे ",
    "पन्चानब्बे ",
    "छ्यानब्बे ",
    "सन्तानब्बे ",
    "अन्ठानब्बे ",
    "उनान्सय ",
  ];
  var b = [
    "",
    "",
    "बिस",
    "तिस",
    "चालिस",
    "पचास",
    "साठी",
    "सत्तरी",
    "असि",
    "नब्बे",
  ];

  if ((rupeesPart = rupeesPart.toString()).length > 9) return "overflow";
  var n = ("000000000" + rupeesPart)
    .substr(-9)
    .match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);

  if (!n) return;

  // Special case for 0
  if (parseInt(rupeesPart) === 0 && (!paisaPart || parseInt(paisaPart) === 0)) {
    return "शुन्य रुपँया मात्र";
  }

  let str = "";

  str +=
    n[1] != 0
      ? (a[Number(n[1])] || b[n[1][0]] + " " + a[n[1][1]]) + "करोड "
      : "";
  str +=
    n[2] != 0
      ? (a[Number(n[2])] || b[n[2][0]] + " " + a[n[2][1]]) + "लाख "
      : "";
  str +=
    n[3] != 0
      ? (a[Number(n[3])] || b[n[3][0]] + " " + a[n[3][1]]) + "हजार "
      : "";
  str +=
    n[4] != 0
      ? (a[Number(n[4])] || b[n[4][0]] + " " + a[n[4][1]]) + "सय "
      : "";
  str +=
    n[5] != 0
      ? (a[Number(n[5])] || b[n[5][0]] + " " + a[n[5][1]])
      : "";

  // Add रुपँया if rupees exist
  if (parseInt(rupeesPart) > 0) {
    str += " रुपँया";
  }

  // Add paisa if exists
  if (paisaPart && parseInt(paisaPart) > 0) {
    str +=
      " " +
      (a[Number(paisaPart)] ||
        b[paisaPart[0]] + " " + a[paisaPart[1]]) +
      "पैसा";
  }

  // Final "मात्र"
  str += " मात्र";

  return str.trim();
};
